<!DOCTYPE html>
<html>
<head>
	<title></title>

	<style>
		.ct {
			width: 910px;
			margin:  auto;
		}

		.main {
			float: left;
			width: 450px;
			height: 300px;
			border: 1px solid #ccc;
		}

		.main input {
			margin: 20px;
			width: 200px;
		}

		iframe {
			width:  450px;
			height: 300px;
			border: 1px dashed #ccc;
		}
	</style>
</head>
<body>
	<div class="ct">
		<h1>使用postMessage实现跨域</h1>
		<div class="main">
			<input type="text" name="" placeholder="http://a.jrg.com:8080/a.html">
		</div>
		<iframe src="http://b.jrg.com:8080/b.html"></iframe>
	</div>
	

	<script type="text/javascript">
		document.querySelector('.main input').addEventListener('input', function(){
			console.log(this.value);
			window.frames[0].postMessage(this.value, '*');
		});

		window.addEventListener('message', function(e){
			document.querySelector('.main input').value = e.data;
			console.log(e.data);
		})


	</script>
</body>
</html>